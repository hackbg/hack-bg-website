{"hash":"16e77404c1854d72429d86af6ddbb515c7f30e45","data":{"tag":{"title":"Smart Contracts","belongsTo":{"pageInfo":{"totalPages":2,"currentPage":2},"edges":[{"node":{"date":"2019-05-02T11:46:36","id":"1101","title":"Tips, tricks, and best approaches for developing decentralized applications &#8211; 0x09. [Blockchain Developers Meetup]","path":"/blog/tips-tricks-and-best-approaches-for-developing-decentralized-applications-0x09-blockchain-developers-meetup/","content":"\n<p>Last week we had our monthly blockchain developers meetup.</p>\n\n\n\n<p>This time we were focusing more on the best approaches, tips and tricks for gas optimisation and best practices and architectures when developing decentralized applications.</p>\n\n\n\n<p>Our focus was mostly on Ethereum&#8217;s Solidity and EVM since most people of our community are familiar with it.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"1024\" height=\"576\" src=\"https://hack.bg/wp-content/uploads/2019/05/meetup09-1024x576.png\" alt=\"\" class=\"wp-image-1112\" srcset=\"https://hack.bg/wp-content/uploads/2019/05/meetup09-1024x576.png 1024w, https://hack.bg/wp-content/uploads/2019/05/meetup09-300x169.png 300w, https://hack.bg/wp-content/uploads/2019/05/meetup09-768x432.png 768w, https://hack.bg/wp-content/uploads/2019/05/meetup09.png 1920w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Tips, tricks and best approaches when developing decentralized apps &#8211; 0x09 [Blockchain Developers Meetup]</figcaption></figure></div>\n\n\n\n<h2>Developers News</h2>\n\n\n\n<p>As usual we started with covering the news from the development space. We share them all over our channels and groups, but for those who do not follow regularly &#8211; this is what was new during the last month:</p>\n\n\n\n<ul><li>Truffle released new version <a href=\"https://github.com/trufflesuite/truffle/releases/tag/v5.0.13\">v5.0.13</a> – decoder improvements</li><li>Ganache with new release <a href=\"https://github.com/trufflesuite/ganache/releases/tag/v2.0.1\">v2.0.1</a></li><li>Embark &#8211; new beta <a href=\"https://github.com/embark-framework/embark/blob/master/CHANGELOG.md#410-beta0-2019-04-17\">4.1.0-beta.0</a> </li><li><a href=\"https://truffleframework.com/teams\">Truffle Teams</a>, zero-configuration continuous integration for Eth code</li><li><a href=\"https://medium.com/zokrates/building-identity-linked-zksnarks-with-zokrates-a36085cdd40\">ZoKrates v0.4.4</a> – building identity-based snarks. adds BabyJubJub</li><li><a href=\"https://devpost.com/software/zexe-on-ethereum\">ZEXE on Plasma</a> from Edcon hackathon</li><li><a href=\"http://waellet.com\">Waellet</a> &#8211; aeternity browser extension released first initial beta</li><li>Easily <a href=\"https://github.com/status-im/status-chat-widget\">embed a Status chat room</a> in your website</li></ul>\n\n\n\n<h2>Tricks and tips</h2>\n\n\n\n<p>We talked a lot about gas optimization via variables packing, deployment gas optimization, and other interesting tricks. Here&#8217;s some of the tricks and tips we covered:</p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>Any non-trivial contract will have errors in it. Your code must, therefore, be able to respond to bugs and vulnerabilities gracefully.</p><cite><br>Prepare for failure</cite></blockquote>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>&#8211; Write clean, consistent good code (If you repeat certain operations often, make them a function)<br>&#8211; Move logic to Libraries if appropriate (They are published separately)<br>&#8211; Use modifiers for common checks<br>&#8211; Do as little as possible in the constructor</p><cite>Lowering deployment cost</cite></blockquote>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"672\" height=\"378\" src=\"https://hack.bg/wp-content/uploads/2019/05/modifiers_can_be_inefficient.png\" alt=\"Solidity modifiers can be inefficient\" class=\"wp-image-1116\" srcset=\"https://hack.bg/wp-content/uploads/2019/05/modifiers_can_be_inefficient.png 672w, https://hack.bg/wp-content/uploads/2019/05/modifiers_can_be_inefficient-300x169.png 300w\" sizes=\"(max-width: 672px) 100vw, 672px\" /><figcaption>Solidity Modifiers can be inefficient</figcaption></figure></div>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>When you add a function modifier, the code of that function is picked up and put in the function modifier in place of the _ symbol. This can also be understood as &#8220;The function modifiers are inlined&#8221;. In normal programming languages, inlining small code is more efficient without any real drawback but Solidity is no ordinary language. In Solidity, the maximum size of a contract is restricted to 24 KB<br></p><cite>Modifiers can be inefficient</cite></blockquote>\n\n\n\n<p>The recording will be available soon.</p>\n\n\n\n<h2>Resources</h2>\n\n\n\n<ul><li><a href=\"https://docs.google.com/presentation/d/1TVFNkjoSnhkPvirgi02CrW7_lLdkwBANr5OYV6TQ1Hs/edit?usp=sharing\">Presentation</a></li></ul>\n","excerpt":"<p>Last week we had our monthly blockchain developers meetup. This time we were focusing more on the best approaches, tips and tricks for gas optimisation and best practices and architectures when developing decentralized applications. Our focus was mostly on Ethereum&#8217;s Solidity and EVM since most people of our community are familiar with it. Developers News [&hellip;]</p>\n","categories":[{"id":"71","title":"Meet-ups","path":"/category/meetups/"}],"author":{"name":"Milen Radkov","path":"/author/milen/"}}},{"node":{"date":"2019-03-22T16:48:06","id":"832","title":"Tezos decentralized voting","path":"/blog/tezos-decentralized-voting/","content":"\n<h2>What it is and how it works?</h2>\n\n\n\n<p>Recently <a href=\"https://tezos.com/\">Tezos protocol</a> had concluded a historic first voting round for upgrade proposals. The participants in the votes (the so-called &#8220;bakers&#8221;) had the possibility to chose between 2 proposals. Athens A and Athens B. But before we look into the process in details let&#8217;s first say few words about tezos for those of you who are unfamiliar with the project.</p>\n\n\n\n<p>Tezos is a distributed ledger built on blockchain that is designed to facilitate the building of <a href=\"https://hack.bg/dlt-blockchain-development-services/smart-contracts-development/\">smart contracts</a> while allowing for the evolution of the platform in an organic manner. The Tezos blockchain is meant to be self-evolving and capable of amending functions based on the community’s determination thanks to the protocol&#8217;s on-chain governance process.</p>\n\n\n\n<p><strong>But how exactly does the on-chain governance works? Understanding the Tezos amendment process.</strong></p>\n\n\n\n<p>The amendment process can be broken into four discrete periods: the Proposal Period, the Exploration or “Testing” Vote Period, the Testing Period, and the Promotion Vote Period. Each of these four periods lasts eight baking cycles (i.e. 32,768 blocks or roughly 22 days, 18 hours), comprising almost exactly three months from proposal to activation.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"974\" height=\"689\" src=\"https://hack.bg/wp-content/uploads/2019/03/tezos-governance-mechanism.jpg\" alt=\"tezos-governance-mechanism\" class=\"wp-image-840\" srcset=\"https://hack.bg/wp-content/uploads/2019/03/tezos-governance-mechanism.jpg 974w, https://hack.bg/wp-content/uploads/2019/03/tezos-governance-mechanism-300x212.jpg 300w, https://hack.bg/wp-content/uploads/2019/03/tezos-governance-mechanism-768x543.jpg 768w, https://hack.bg/wp-content/uploads/2019/03/tezos-governance-mechanism-814x576.jpg 814w\" sizes=\"(max-width: 974px) 100vw, 974px\" /><figcaption>Tezos Decentralized Voting.</figcaption></figure></div>\n\n\n\n<p>Аny failure to proceed to the subsequent period reverts the network back to a Proposal Period. In other words, failure to proceed restarts the entire amendment process.</p>\n\n\n\n<p>Tezos decentralized vote system is a step towards  the creation of <a href=\"https://medium.com/tezos/blockchains-are-not-startups-16449e210a61\">internet-based-institutions</a> that are built to last, ones that can be adopted sustainably by hundreds of millions, if not billions of users some day. </p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>More information can be found at:</p>\n\n\n\n<ul><li><a href=\"https://tezos.com/static/white_paper-2dc8c02267a8fb86bd67a108199441bf.pdf\">Tezos white paper</a></li><li><a href=\"https://tezos.com/static/position_paper-841a0a56b573afb28da16f6650152fb4.pdf﻿\">Tezos position paper</a></li><li><a href=\"https://medium.com/tezos/amending-tezos-b77949d97e1e\">Amending Tezos blog post</a></li></ul>\n","excerpt":"<p>What it is and how it works? Recently Tezos protocol had concluded a historic first voting round for upgrade proposals. The participants in the votes (the so-called &#8220;bakers&#8221;) had the possibility to chose between 2 proposals. Athens A and Athens B. But before we look into the process in details let&#8217;s first say few words [&hellip;]</p>\n","categories":[{"id":"53","title":"Tech Talks","path":"/category/blockchain-tech-talks/"}],"author":{"name":"Hristo Georgiev","path":"/author/hgeorgiev/"}}},{"node":{"date":"2019-02-28T22:31:17","id":"715","title":"Parachains and Smart Contracts &#8211; 03. [Sofia Polkadot]","path":"/blog/parachains-and-smart-contracts-03-sofia-polkadot/","content":"\n<p>Time goes by and this week we have reached the time for our 3rd Polkadot meetup. </p>\n\n\n\n<p>We are always happy to share with our community cutting edge technologies and best practices when using specific tools and protocols.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"1024\" height=\"678\" src=\"https://hack.bg/wp-content/uploads/2019/02/DSC_0553-1024x678.jpg\" alt=\"\" class=\"wp-image-720\" srcset=\"https://hack.bg/wp-content/uploads/2019/02/DSC_0553-1024x678.jpg 1024w, https://hack.bg/wp-content/uploads/2019/02/DSC_0553-300x199.jpg 300w, https://hack.bg/wp-content/uploads/2019/02/DSC_0553-768x509.jpg 768w, https://hack.bg/wp-content/uploads/2019/02/DSC_0553-870x576.jpg 870w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Milen Radkov presenting at Polkadot Sofia meetup</figcaption></figure></div>\n\n\n\n<h2>Parachains and Smart Contracts</h2>\n\n\n\n<p>This time the focus was on <strong>parachains</strong> and more specifically how they differ from the typical smart contracts, that we all are used to. What are the benefits? How to develop them and what are they good for? <br></p>\n\n\n\n<p>Milen Radkov had prepared for us some exciting presentation. Let&#8217;s find out!<br></p>\n\n\n\n<p>For those of you who could not attend we would like to give you the meetup plan. This time we had 2 parts. On the first <g class=\"gr_ gr_6 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep\" id=\"6\" data-gr-id=\"6\">part</g> we <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins replaceWithoutSep\" id=\"5\" data-gr-id=\"5\">talked</g> how things in Polkadot work in theory and on the second part we focused on the code and the tools that are doing the magic.<br></p>\n\n\n\n<p>We started with the well know to all blockchain developers Smart Contracts functions. When we think about it &#8211; it is really cool that one can write a dApp and push it to the network without permission, knowing that this app will live “forever” without worrying that somebody is going to change his logic, but we all know that the current solutions are not perfect. We are also limited by the computational complexity and the price that we have to pay for it. Not to mention that your code is good to go forever but only on one chain.<br></p>\n\n\n\n<blockquote style=\"text-align:center\" class=\"wp-block-quote is-style-large\"><p> So what are the alternatives? </p></blockquote>\n\n\n\n<p>And why are we excited to follow the development of projects like Polkadot.</p>\n\n\n\n<ul><li>In Polkadot transactions are unmetered /so you can have extremely complex state transition functions and never have to think about running out of gas/</li><li>Parachains are like building your own blockchain and not have to think about security, because of the shared security mechanism that Polkadot provides</li><li>One can trust the Polkadot validator set that they are securing the chain</li><li>Interoperability &#8211; you can message between all the different <g class=\"gr_ gr_9 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"9\" data-gr-id=\"9\">parachains</g> /message passing/ async</li></ul>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>In the second part of the meetup, we deep dived into the code to discover the advantages of using Polakot and Substrate. For those of you who are new to Polkadot, Substrate is a framework allowing us to build entirely new blockchain only in few commands, stepping up on Polkadot&#8217;s development and helping us developers to focus on our business logic.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"1024\" height=\"678\" src=\"https://hack.bg/wp-content/uploads/2019/02/DSC_0564-1024x678.jpg\" alt=\"\" class=\"wp-image-721\" srcset=\"https://hack.bg/wp-content/uploads/2019/02/DSC_0564-1024x678.jpg 1024w, https://hack.bg/wp-content/uploads/2019/02/DSC_0564-300x199.jpg 300w, https://hack.bg/wp-content/uploads/2019/02/DSC_0564-768x509.jpg 768w, https://hack.bg/wp-content/uploads/2019/02/DSC_0564-870x576.jpg 870w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Substrate module example</figcaption></figure></div>\n\n\n\n<p>During the code review, <a href=\"http://twitter.com/milen_radkov\">Milen</a> showed us how quick it is to run a custom <g class=\"gr_ gr_5 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"5\" data-gr-id=\"5\">parachain</g> with a simple betting game ruining on it. (this was first shown by Gavin Wood at the Web3 Summit in Berlin a few months ago &#8211; see the <a href=\"https://substrate.readme.io/docs/creating-a-custom-substrate-chain\">full tutorial</a>).</p>\n\n\n\n<p>He walked us trough the code and explained briefly with the syntax and structure of the substrate project.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>Watch the recording of the session here:</p>\n\n\n\n<figure class=\"wp-block-embed-youtube wp-block-embed is-type-video is-provider-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio\"><div class=\"wp-block-embed__wrapper\">\n<figure><iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/9dSlsW6yMNU\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\"></iframe></figure>\n</div></figure>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<h2>Resources</h2>\n\n\n\n<ul><li><a href=\"https://docs.google.com/presentation/d/11HAdR3WOqaPiBjCi2XbJYiYptCf53pXQnwXWaTwf9kE/edit?usp=sharing\">Presentation</a></li><li><a href=\"https://substrate.readme.io/\">Substrate documentation</a></li><li><a href=\"http://polkadot.network\">Polkadot website</a></li><li><a href=\"https://youtu.be/9dSlsW6yMNU\">Video recording</a></li><li><a href=\"https://www.meetup.com/sofia-polkadot/\">Polkadot Sofia Meetup</a></li></ul>\n\n\n\n<p></p>\n","excerpt":"<p>Time goes by and this week we have reached the time for our 3rd Polkadot meetup. We are always happy to share with our community cutting edge technologies and best practices when using specific tools and protocols. Parachains and Smart Contracts This time the focus was on parachains and more specifically how they differ from [&hellip;]</p>\n","categories":[{"id":"5","title":"Events","path":"/category/events/"},{"id":"71","title":"Meet-ups","path":"/category/meetups/"}],"author":{"name":"Milen Radkov","path":"/author/milen/"}}},{"node":{"date":"2019-01-23T20:11:11","id":"533","title":"Building Voting æpp with Sophia ML on æternity blockchain","path":"/blog/building-voting-aepp-with-sophia-ml-on-aeternity-blockchain/","content":"\n<p>Time is passing by and we are getting more experienced in writing smart contracts with Sophia ML language on æ<g class=\"gr_ gr_8 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"8\" data-gr-id=\"8\">ternity</g> blockchain.</p>\n\n\n\n<p>In this tutorial, I&#8217;d like to share with you a simple voting decentralized <g class=\"gr_ gr_3 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"3\" data-gr-id=\"3\">aepp</g> solution that we&#8217;ve built during the æpps summit in Turkey, which I took part in.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"960\" height=\"540\" src=\"https://hack.bg/wp-content/uploads/2019/01/aepps-summit.jpg\" alt=\"\" class=\"wp-image-542\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/aepps-summit.jpg 960w, https://hack.bg/wp-content/uploads/2019/01/aepps-summit-300x169.jpg 300w, https://hack.bg/wp-content/uploads/2019/01/aepps-summit-768x432.jpg 768w\" sizes=\"(max-width: 960px) 100vw, 960px\" /><figcaption>photo by nikita fuchs</figcaption></figure></div>\n\n\n\n<p>This was one of my first times interacting with Sophia ML smart contracts, and while at the æpps summit I&#8217;ve gathered some cool and enthusiastic people, and made ourselves sort of a studying group. We decided to brainstorm and learn together while developing this voting <g class=\"gr_ gr_6 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"6\" data-gr-id=\"6\">aepp</g>. This is the short summary of what we&#8217;ve decided our voting <g class=\"gr_ gr_7 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"7\" data-gr-id=\"7\">aepp</g> will be doing:</p>\n\n\n\n<ol><li>Add candidates to vote for</li><li>Allow users to give their vote for a certain candidate</li><li>Count the votes that every candidate gathered</li></ol>\n\n\n\n<p class=\"note\">You can <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins replaceWithoutSep\" id=\"5\" data-gr-id=\"5\">try</g> push the <g class=\"gr_ gr_3 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"3\" data-gr-id=\"3\">aepp&#8217;s</g> functionalities further, with more sophisticated functions and use case, you can try doing it <g class=\"gr_ gr_7 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-del replaceWithoutSep\" id=\"7\" data-gr-id=\"7\">yourself,</g> <g class=\"gr_ gr_25 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace\" id=\"25\" data-gr-id=\"25\">like</g> we did. Try it &#8211; its fun.</p>\n\n\n\n<h2>Setting up project and development <g class=\"gr_ gr_109 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace gr-progress\" id=\"109\" data-gr-id=\"109\">environment</g></h2>\n\n\n\n<p><g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep\" id=\"5\" data-gr-id=\"5\">First</g> we have to initialize our project where we will write <g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace\" id=\"4\" data-gr-id=\"4\">the smart</g> contract. In order to do that we will be using <code>forgae</code>. Take a look at the <a href=\"https://hack.bg/blog/tutorials/build-your-first-decentralized-application-aepp-on-aeternity-blockchain-sophia-smart-contract-address-book/\">Build first </a><g class=\"gr_ gr_92 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"92\" data-gr-id=\"92\"><a href=\"https://hack.bg/blog/tutorials/build-your-first-decentralized-application-aepp-on-aeternity-blockchain-sophia-smart-contract-address-book/\">aeternity</a></g><a href=\"https://hack.bg/blog/tutorials/build-your-first-decentralized-application-aepp-on-aeternity-blockchain-sophia-smart-contract-address-book/\"> application with Sophia ML tutorial</a> and follow the steps to initialize your project.</p>\n\n\n\n<h2>Smart contract</h2>\n\n\n\n<p>As you probably already know (if you&#8217;ve followed the previous tutorial), in <g class=\"gr_ gr_3 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep\" id=\"3\" data-gr-id=\"3\">Sophia</g> ML we have a <strong>state</strong> which is the place where we store data on-chain, and it is the only thing in the smart contract that can be mutated (overwritten).</p>\n\n\n\n<p>The first thing we do is to define our variables and types that we are going to use in the smart contract. And <g class=\"gr_ gr_217 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"217\" data-gr-id=\"217\">the </g><code>init()</code><g class=\"gr_ gr_217 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"217\" data-gr-id=\"217\"> function</g> which is the constructor basically, if we compare this to a Solidity smart contract.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>contract Vote =\n   type candidate = address\n   type votes = list(address)\n\n   record state = \n      { vote : map(candidate, votes) }\n\n   public function init() : state = \n      { vote = { } }</code></pre>\n\n\n\n<p>We are defining <g class=\"gr_ gr_263 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"263\" data-gr-id=\"263\">the </g><code>candidate</code><g class=\"gr_ gr_263 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"263\" data-gr-id=\"263\"> type</g> as address, and votes as a <strong>list</strong> of addresses. And the <code>state</code> record will be storing a map (key-value-pair) of <code>candidate</code> to <code>votes</code>.<br></p>\n\n\n\n<p><del>Starting with the first functionality for the aepp &#8211; adding candidates:</del></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code><del>  public stateful function add_candidate(candidate: address) : bool =       is_candidate(candidate)       true</del></code></pre>\n\n\n\n<p><del>What this does is passing the candidate to the </del><code><del>is_candiate()</del></code><del> function &#8211; taking a candidate&#8217;s address as a parameter, checking if there is a candidate defined at with this address and saving it to the </del><strong><del>votes</del></strong><del> mapping in the state with the initial empty list of voters if not.</del><br></p>\n\n\n\n<p><del>Here are the helper functions we are using for this:</del></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code><del>   private stateful function is_candidate(candidate: address) =       let candidate_found = lookupByAddress(candidate, state.votes, { voters = [] })       if (size(candidate_found.voters) == 0)          put(state{             votes[candidate] = { voters = [] } })    private function lookupByAddress(k : address, m, v) =       switch(Map.lookup(k,m))          None => v          Some(x) => x</del></code></pre>\n\n\n\n<p>We are doing this because in Sophia ML we don&#8217;t have a default value of 0x0/false as in Solidity for example. So, in order for us to cast a vote, we need to first have added the candidates which we can vote for.</p>\n\n\n\n<p class=\"note\">If we don&#8217;t add the candidate first, before voting, we will hit <code>out of gas</code> error.</p>\n\n\n\n<p>Next we create the vote function which looks like this:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>public stateful function vote(vote_for: candidate) =\n      put(state{ vote[vote_for = []] @ vs = Call.caller :: vs })</code></pre>\n\n\n\n<p>We access the transaction initiator&#8217;s address by the <g class=\"gr_ gr_3 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"3\" data-gr-id=\"3\">built </g><g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"4\" data-gr-id=\"4\"><g class=\"gr_ gr_3 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"3\" data-gr-id=\"3\">in</g> </g><code>Call.caller</code><g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"4\" data-gr-id=\"4\"> and</g> prepend <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"5\" data-gr-id=\"5\">it </g><code>::</code><g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"5\" data-gr-id=\"5\"> to</g> the current list of voters. Using this <g class=\"gr_ gr_23 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"23\" data-gr-id=\"23\">syntx</g> we <g class=\"gr_ gr_32 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"32\" data-gr-id=\"32\">dont</g> need to worry whether the candidate was initialized or not.</p>\n\n\n\n<p><g class=\"gr_ gr_9 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins replaceWithoutSep\" id=\"9\" data-gr-id=\"9\">Last</g> thing is the get votes count function.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>public function count_votes(count_for : candidate) =\n      length(state.vote[count_for = []])</code></pre>\n\n\n\n<p>Here we are using a custom <code>length</code> function which we define as a helper function below. Here is the code and below we can see the explanation.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>private function length(l : list('a)) : int = length'(l, 0)\n</code></pre>\n\n\n\n<p>This is where things get a bit more complicated, so I will try to explain what is happening here.</p>\n\n\n\n<p>Since in Sophia ML we don&#8217;t have <code>.count</code> or <code>.length</code> to get the list length, we need to make ourselves a helper function which will make a recursion and will iterate over the list while incrementing a counter.</p>\n\n\n\n<p>The <code>length</code> function is defined to accept a list <g class=\"gr_ gr_9 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"9\" data-gr-id=\"9\">of </g><code>'a</code><g class=\"gr_ gr_9 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"9\" data-gr-id=\"9\"> which</g> is the convention for a generic <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-del replaceWithoutSep\" id=\"5\" data-gr-id=\"5\">type,</g> and a return <g class=\"gr_ gr_11 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"11\" data-gr-id=\"11\">type </g><code>int</code><g class=\"gr_ gr_11 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"11\" data-gr-id=\"11\"> .</g> In the function&#8217;s <g class=\"gr_ gr_6 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep\" id=\"6\" data-gr-id=\"6\">body</g> we are calling <g class=\"gr_ gr_10 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"10\" data-gr-id=\"10\">the </g><code>length'</code><g class=\"gr_ gr_10 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"10\" data-gr-id=\"10\"> </g><g class=\"gr_ gr_7 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-del replaceWithoutSep\" id=\"7\" data-gr-id=\"7\"><g class=\"gr_ gr_10 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"10\" data-gr-id=\"10\">function</g>,</g> while passing the list and an initial value for the counter.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>private function length'(l : list('a), x : int) : int =       switch(l)          [] => x          _ :: l' => length'(l', x + 1)</code></pre>\n\n\n\n<p>And here the magic happens, we use <g class=\"gr_ gr_6 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"6\" data-gr-id=\"6\">the </g><code>switch</code><g class=\"gr_ gr_6 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"6\" data-gr-id=\"6\"> statement</g> with 2 cases <code>[] => x</code> &#8211; which returns the value of the counter and breaks the recursion if the list is empty. And <code>_ :: l' => length'(l', x+1)</code> &#8211; meaning we are using a pattern matching and we are separating the first element from the list and the remainder and then recursively passing the list&#8217;s remainder to the same <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-del replaceWithoutSep\" id=\"5\" data-gr-id=\"5\">function,</g> while incrementing the counter.</p>\n\n\n\n<p>The whole smart contract code looks like this in the end</p>\n\n\n\n<figure><script src=\"https://gist.github.com/mradkov/d05aeb76c59e2098d54dc900e94aaa41.js\"></script><figcaption>Sophia ML basic voting aepp</figcaption></figure>\n\n\n\n<h2>Conclusion</h2>\n\n\n\n<p>It is fairly simple to create a basic aepp on æternity blockchain using Sophia ML. In our case with the ae-vote we stumbled upon some tricky parts like the recursive iteration, we had to make above, but when you familiarize yourself with the language it is easier.</p>\n\n\n\n<h3>Useful links</h3>\n\n\n\n<ul><li><a href=\"https://github.com/mradkov/ae-vote\">Github repo of the project</a></li><li><a href=\"https://github.com/aeternity/protocol/blob/master/contracts/sophia.md\">Sophia documentation</a></li><li><a href=\"https://dev.aepps.com/\">æternity documentation</a></li></ul>\n","excerpt":"<p>Time is passing by and we are getting more experienced in writing smart contracts with Sophia ML language on æternity blockchain. In this tutorial, I&#8217;d like to share with you a simple voting decentralized aepp solution that we&#8217;ve built during the æpps summit in Turkey, which I took part in. This was one of my [&hellip;]</p>\n","categories":[{"id":"4","title":"Tutorials","path":"/category/tutorials/"},{"id":"53","title":"Tech Talks","path":"/category/blockchain-tech-talks/"}],"author":{"name":"Milen Radkov","path":"/author/milen/"}}},{"node":{"date":"2019-01-16T17:18:35","id":"525","title":"How to boost your business with blockchain? [Part 2]","path":"/blog/how-to-boost-your-business-with-blockchain-part-2/","content":"\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*zdI2UFmpzHMjCTfK\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@samsonyyc?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Samson Creative.</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>In the previous post of this series on how to boost your business with blockchain, we were discussing the fundamentals of blockchain tech. If you have missed it you can find it here:&nbsp;<strong><a href=\"https://hack.bg/blog/blockchain-and-business/how-to-boost-your-business-with-blockchain/\">How to boost your business with blockchain?</a></strong></p>\n\n\n\n<p style=\"text-align:left\">Briefly speaking, we reviewed in a simplified non-technical way the core of blockchain technology and we discussed how you can benefit from integrating it into your business. We came to the conclusion that the main benefit of using blockchain technology is to achieve <strong>trust.</strong></p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*qCfB1Rs_TejfX9bm\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@mmckee30?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Mitch Mckee</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>In the previous post, we concluded that trust is essential for making business and its the essence of blockchain tech, so using blockchain is beneficial for attracting new customers and partners.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>In this post, we are going to discuss whether you should do an ICO or an STO to power your existing business or finance your new business idea.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*ZktwoqxtvERrzPes\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>So let&#8217;s first explain what is ICO and what is STO.</p>\n\n\n\n<p>ICO stands for <a href=\"https://hack.bg/dlt-blockchain-development-services/ico-initial-coin-offering/\">Initial Coin Offering</a> and as many of you had heard it was the main way for non-existing projects to gather an impressive amount of money during those last few years.</p>\n\n\n\n<p>It all started with Ethereum raising money to develop its platform, the one that has become the main platform to make ICO&#8217;s on. The peak was sometime in the middle of last year with projects like Tezos and FileCoin raising as much as 250 millions of dollars from individual investors.&nbsp;</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*li78tZhCpfoqOgA8\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@blankerwahnsinn?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Fabian Blank</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>Even though many of the projects failed to deliver the expected products, either due to lack of technology developments (the main issue being scalability) or by simply disappearing with bags full of money (a.k.a. SCAM) the <strong><em><g class=\"gr_ gr_4 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"4\" data-gr-id=\"4\">ICOs</g> are an “Effective way” to crowdfund your project if rules are followed </em></strong><em>as stated recently by </em>Jay Clayton, chairman of the U.S. Securities and Exchange Commission (SEC). You can find more on the recent article <a href=\"https://www.coindesk.com/icos-are-effective-way-to-raise-capital-if-rules-are-followed-sec-chairman\">from <g class=\"gr_ gr_49 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"49\" data-gr-id=\"49\">coindesk</g></a>.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*Sr6riKSA36oEWnKL\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>Due to a large number of scams and projects that did not manage to deliver, plus the downturn of the market, many proclaimed that the ICO era is over and that the new way to raise money is via an STO. But what is STO?</p>\n\n\n\n<p>STO stands for Security Token Offering and the main difference to the ICO is that the tokens are <strong>Security Tokens</strong>, backed by something tangible like the assets, profits, or revenue of the company. To put it in another way, only accredited investors can participate in the offerings. Their funds are protected by the law and the investors are getting either a part of the company (shares) or part of the company&#8217;s profits (dividends).</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*pFPj1Nd3IiOr7E2G\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>Securities laws are well developed and defined in most of <g class=\"gr_ gr_6 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-del replaceWithoutSep\" id=\"6\" data-gr-id=\"6\">the countries</g>. Thus, Security Tokens would inherit a well build legal framework and structure that would support token buyer rights, protect them from <g class=\"gr_ gr_7 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-del replaceWithoutSep\" id=\"7\" data-gr-id=\"7\">the unfortunate</g> situations and set their expectations right. However, secondary trading and liquidity are comparatively reduced for these tokens, as securities can&#8217;t be traded as freely as the Utility Tokens since securities are subjected to many country-specific restrictions.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*Th5k_Ex7QrrKM6VR\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<blockquote class=\"wp-block-quote is-style-large\"><p>To wrap it up &#8230; <br></p></blockquote>\n\n\n\n<p>ICOs are a great way to deliver a <strong>utility token</strong> that will power your business by allowing the early &#8220;supporters&#8221; of your idea to use your services at a reduced price.</p>\n\n\n\n<p>STOs are an alternative way to raise money by offering <strong>security tokens, </strong>which are seen as shares of your company, giving rights to dividends or part of your company to the investors.&nbsp;</p>\n\n\n\n<p>Which of both to chose to boost your business depends on your business plan but clearly any of the above can bring you the fresh capital that will allow you to grow your business.&nbsp;</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>If you have a great idea — but you not sure if blockchain technology can be integrated into your business, Get in touch with us at <a href=\"mailto:hello@hack.bg\" rel=\"noreferrer noopener\" target=\"_blank\">hello@hack.bg</a>.</p>\n\n\n\n<p>The full list of our services could be found on our website at <a href=\"https://hack.bg/#services\" rel=\"noreferrer noopener\" target=\"_blank\">https://hack.bg/#services</a></p>\n\n\n\n<p><strong>We<em> bring ideas to life.</em></strong></p>\n","excerpt":"<p>In the previous post of this series on how to boost your business with blockchain, we were discussing the fundamentals of blockchain tech. If you have missed it you can find it here:&nbsp;How to boost your business with blockchain? Briefly speaking, we reviewed in a simplified non-technical way the core of blockchain technology and we [&hellip;]</p>\n","categories":[{"id":"18","title":"Blockchain and Business","path":"/category/blockchain-and-business/"}],"author":{"name":"Hristo Georgiev","path":"/author/hgeorgiev/"}}},{"node":{"date":"2019-01-10T10:59:33","id":"449","title":"Build your first decentralized application (aepp) on Aeternity blockchain &#8211; Sophia ML smart contract &#8211; Address Book","path":"/blog/build-your-first-decentralized-application-aepp-on-aeternity-blockchain-sophia-smart-contract-address-book/","content":"\n<figure class=\"wp-block-image\"><img loading=\"lazy\" width=\"1024\" height=\"576\" src=\"https://hack.bg/wp-content/uploads/2019/01/sveta_sofia_aeternity-1024x576.jpg\" alt=\"Sophia aeternity\" class=\"wp-image-500\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/sveta_sofia_aeternity-1024x576.jpg 1024w, https://hack.bg/wp-content/uploads/2019/01/sveta_sofia_aeternity-300x169.jpg 300w, https://hack.bg/wp-content/uploads/2019/01/sveta_sofia_aeternity-768x432.jpg 768w, https://hack.bg/wp-content/uploads/2019/01/sveta_sofia_aeternity-1025x576.jpg 1025w, https://hack.bg/wp-content/uploads/2019/01/sveta_sofia_aeternity.jpg 1334w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Sophia aeternity</figcaption></figure>\n\n\n\n<p class=\"has-drop-cap has-text-align-left\">Æternity blockchain is live after long period of waiting, the community is big and the core developers are top skilled. The project offers smart contracts development platform for decentralized applications dapps or how they call them &#8211; æpps.</p>\n\n\n\n<p class=\"has-text-align-left\">In this tutorial we are going to create a simple smart contract in Sophia ML programming language &#8211; address book <g class=\"gr_ gr_4 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"4\" data-gr-id=\"4\">aepp</g>. We will create, compile, test and deploy the smart contract.<br></p>\n\n\n\n<h2>Prerequisites</h2>\n\n\n\n<ul><li><a href=\"https://docs.docker.com/compose/install/\">Docker</a></li><li><s>Forgae</s> <a href=\"https://www.npmjs.com/package/aeproject\">AEproject</a></li><li><a href=\"https://github.com/aeternity/aepp-cli-js\">Aecli</a> * (optional if we want to do something with the sdk like encode/decode address by publicKey or signTx)</li></ul>\n\n\n\n<p class=\"has-text-align-left\">Docker we need for running local aeternity node for compiling, testing and development environment. Assuming you already have <g class=\"gr_ gr_52 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"52\" data-gr-id=\"52\">docker</g> installed on your machine we move on, if not &#8211; please follow the guide in their official website and then continue with the steps below.</p>\n\n\n\n<p class=\"has-text-align-left\"><g class=\"gr_ gr_6 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"6\" data-gr-id=\"6\"><s>Forgae</s> AEproject</g> is <g class=\"gr_ gr_14 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace\" id=\"14\" data-gr-id=\"14\">an æternity</g> development framework which helps with setting up a project. The framework makes the development of smart contracts in the <g class=\"gr_ gr_8 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"8\" data-gr-id=\"8\">aeternity</g> network pretty easily. It provides commands for the compilation of smart contracts, running a local Epoch and unit testing the contracts.<br></p>\n\n\n\n<p class=\"has-text-align-left\">We install it globally via:</p>\n\n\n\n<pre><code>npm install -g aeproject</code></pre>\n\n\n\n<p class=\"has-text-align-left\">After installing <s>forgae</s> AEproject we can verify everything went well with <code>aeproject --help</code> which will also get us familiarize with the commands and options it has.</p>\n\n\n\n<pre><code>Usage: aeproject [options] [command]\n\nOptions:\n  -V, --version      output the version number\n  -h, --help         output usage information\n\nCommands:\n  init [options]     Initialize AEProject\n  compile [options]  Compile contracts\n  test [options]     Running the tests\n  node [options]     Running a local node. Without any argument node will be runned with --start argument\n  deploy [options]   Run deploy script</code></pre>\n\n\n\n<p class=\"has-text-align-left\">We are almost done with the setup. The last tool we need is <code>aecli</code> which is æternity&#8217;s JavaScript SDK command-line interface. It is still not available as <g class=\"gr_ gr_693 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar multiReplace\" id=\"693\" data-gr-id=\"693\">a <g class=\"gr_ gr_691 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"691\" data-gr-id=\"691\">npm</g></g> package, so for us to use it we should clone the repository, install from source and then link it to our local <g class=\"gr_ gr_587 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling\" id=\"587\" data-gr-id=\"587\">npm</g> manually.<br></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>git clone https://github.com/aeternity/aepp-cli-js.git</code></pre>\n\n\n\n<p class=\"has-text-align-left\">We then need to enter into the cloned repository with:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>cd aepp-cli-js</code></pre>\n\n\n\n<p class=\"has-text-align-left\">Run <code>npm link</code> in order to link the AECLI to <code>aecli/bin/aecli.js</code> (<em>If you have any folder permission issues, try running with sudo <code>sudo npm link</code></em>)</p>\n\n\n\n<blockquote class=\"wp-block-quote has-text-align-left\"><p><code>npm link</code> <g class=\"gr_ gr_3 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins doubleReplace replaceWithoutSep\" id=\"3\" data-gr-id=\"3\">command</g> will create a symlink in the global node_modules folder and expose the CLI binary to be used through the terminal.</p><cite>npm link</cite></blockquote>\n\n\n\n<p class=\"has-text-align-left\">and lastly we should run<code>npm install</code> so npm update its packages and symlinks.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>npm install</code></pre>\n\n\n\n<p class=\"has-text-align-left\">Now if everything went well our environment is set and ready to start developing sophia smart contracts on æternity. </p>\n\n\n\n<h3>Project init</h3>\n\n\n\n<p class=\"has-text-align-left\">As always, first we need to create a directory where our project files will be placed:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>mkdir addressbook-aepp</code><br><code>cd addressbook-aepp</code></pre>\n\n\n\n<p class=\"has-text-align-left\">Then we initialize our project with <code>aeproject init</code> which will create for us all the necessary files and directories.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>aeproject init</code></pre>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"837\" height=\"587\" src=\"https://hack.bg/wp-content/uploads/2019/01/forgae-init-aepp.png\" alt=\"Initialization of aeternity aepp with forgae\" class=\"wp-image-461\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/forgae-init-aepp.png 837w, https://hack.bg/wp-content/uploads/2019/01/forgae-init-aepp-300x210.png 300w, https://hack.bg/wp-content/uploads/2019/01/forgae-init-aepp-768x539.png 768w, https://hack.bg/wp-content/uploads/2019/01/forgae-init-aepp-821x576.png 821w\" sizes=\"(max-width: 837px) 100vw, 837px\" /><figcaption>Initialization of aeternity aepp with forgae</figcaption></figure></div>\n\n\n\n<p class=\"has-text-align-left\">If we look at our project directory we will see that we now have <strong>contracts</strong>, <strong>deployment</strong>, <strong>test</strong> directories where our focus will mainly be, as well as other config files like package.json and docker-compose.yml.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"837\" height=\"587\" src=\"https://hack.bg/wp-content/uploads/2019/01/forgae-init-project-directory.png\" alt=\"forgae init project directory\" class=\"wp-image-470\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/forgae-init-project-directory.png 837w, https://hack.bg/wp-content/uploads/2019/01/forgae-init-project-directory-300x210.png 300w, https://hack.bg/wp-content/uploads/2019/01/forgae-init-project-directory-768x539.png 768w, https://hack.bg/wp-content/uploads/2019/01/forgae-init-project-directory-821x576.png 821w\" sizes=\"(max-width: 837px) 100vw, 837px\" /><figcaption>forgae init project directory</figcaption></figure></div>\n\n\n\n<p class=\"has-text-align-left\">Now we need to <strong>start docker</strong> and then start our local node with:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>aeproject node</code></pre>\n\n\n\n<blockquote class=\"wp-block-quote has-text-align-left\"><p>The <strong>node</strong> command help developers run their <g class=\"gr_ gr_11 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"11\" data-gr-id=\"11\">local  network</g> on docker. The local network contains 3 nodes. To spawn a fully functional <g class=\"gr_ gr_12 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"12\" data-gr-id=\"12\">network  takes</g> <g class=\"gr_ gr_8 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins replaceWithoutSep\" id=\"8\" data-gr-id=\"8\">couple</g> of minutes. At the end of this <g class=\"gr_ gr_9 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep\" id=\"9\" data-gr-id=\"9\">command</g> you will <g class=\"gr_ gr_13 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"13\" data-gr-id=\"13\">be  presented</g> with accounts that you can use in your unit tests.</p><cite>documentation</cite></blockquote>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"837\" height=\"587\" src=\"https://hack.bg/wp-content/uploads/2019/01/forgae-node.png\" alt=\"forgae node initialized successfully\" class=\"wp-image-468\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/forgae-node.png 837w, https://hack.bg/wp-content/uploads/2019/01/forgae-node-300x210.png 300w, https://hack.bg/wp-content/uploads/2019/01/forgae-node-768x539.png 768w, https://hack.bg/wp-content/uploads/2019/01/forgae-node-821x576.png 821w\" sizes=\"(max-width: 837px) 100vw, 837px\" /><figcaption>forgae node initialized successfully</figcaption></figure></div>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"837\" height=\"587\" src=\"https://hack.bg/wp-content/uploads/2019/01/forgae-node-funding.png\" alt=\"forgae node gives us preset test accounts\" class=\"wp-image-469\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/forgae-node-funding.png 837w, https://hack.bg/wp-content/uploads/2019/01/forgae-node-funding-300x210.png 300w, https://hack.bg/wp-content/uploads/2019/01/forgae-node-funding-768x539.png 768w, https://hack.bg/wp-content/uploads/2019/01/forgae-node-funding-821x576.png 821w\" sizes=\"(max-width: 837px) 100vw, 837px\" /><figcaption>forgae node gives us preset test accounts</figcaption></figure></div>\n\n\n\n<p class=\"has-text-align-left\">To stop the local node, simply run</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>aeproject node --stop</code></pre>\n\n\n\n<p>Additionally we need to start the local compiler the same way as we start the node.</p>\n\n\n\n<p><code>aeproject compiler</code></p>\n\n\n\n<h2>Write Sophia ML smart contracts</h2>\n\n\n\n<p class=\"has-text-align-left\">When we initialized our project with <code>aeproject init</code> it automatically created for us an <code>ExampleContract.aes</code> file, which name speaks for what it is. Its content looks like this:<br></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>@compiler &gt;= 4\ncontract ExampleContract =\n    type state = ()\n    function main(x : int) = x</code></pre>\n\n\n\n<p class=\"has-text-align-left\">This example contract has one function which accepts a single argument of <g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"4\" data-gr-id=\"4\">type </g><code>int</code><g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"4\" data-gr-id=\"4\"> and</g> returns the value of the passed <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"5\" data-gr-id=\"5\">argument </g><code>x</code><g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"5\" data-gr-id=\"5\">.</g></p>\n\n\n\n<p class=\"has-text-align-left\">If this is your first time looking at Sophia smart contract, you probably notice that it is quite different from Solidity for example, and looks much similar to Python. </p>\n\n\n\n<p class=\"has-text-align-left\"><g class=\"gr_ gr_4 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"4\" data-gr-id=\"4\">Aeternity&#8217;s</g> Sophia is <g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar multiReplace\" id=\"5\" data-gr-id=\"5\">a ML</g>-family language. It is strongly typed and has restricted mutable state. <a href=\"https://github.com/aeternity/protocol/blob/master/contracts/sophia.md\">Sophia</a> is developed to be used for creating smart contracts on Aeternity Blockchain, so some of the conventional languages&#8217; features are missing, but other blockchain specific primitives, types and constructions are added and supported.</p>\n\n\n\n<p class=\"has-text-align-left\">Okay, we move on to the fun part. We now hit the delete button and get rid of the <code>ExampleContract.aes</code>. </p>\n\n\n\n<p class=\"has-text-align-left\">We create our <code>AddressBook.aes</code> sophia smart contract in the <code>contracts</code>folder and open it with our favorite editor (in my case VIM).</p>\n\n\n\n<p class=\"has-text-align-left\">We define the name of our smart contract, following the example above:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>contract AddressBook =<br><br></code></pre>\n\n\n\n<p class=\"note\">Note: Indentation is important in Sophia language, so keep that in mind.</p>\n\n\n\n<p class=\"has-text-align-left\">Sophia uses Python-style layout rules to group declarations and statements. A\nlayout block with more than one element must start on a separate line and be\nindented more than the currently enclosing layout block. Blocks with a single\nelement can be written on the same line as the previous token.</p>\n\n\n\n<p class=\"has-text-align-left\">Each element of the block must share the same indentation and no part of an element may be indented less than the indentation of the block.</p>\n\n\n\n<p class=\"has-text-align-left\">Okay, the first thing we do after that is defining our person and state records and create the <code>init</code>function.<br></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>@compiler >= 4\ncontract AddressBook =\n\n   record person =\n     { first_name : string\n     , last_name : string\n     , age : int }\n\n   record state  = { people : map(address, person) }\n\n   entrypoint init() = { people = {} }</code></pre>\n\n\n\n<p class=\"has-text-align-left\">Let us focus on some info from the sophia documentation so we know what we&#8217;ve done so far:</p>\n\n\n\n<p class=\"has-text-align-left\">Sophia does not have arbitrary mutable state, but only a limited form of\nstate associated with each contract instance.</p>\n\n\n\n<ul><li>Each contract defines a type <code>state</code> encapsulating its mutable state.</li><li>The initial state of a contract is computed by the contract&#8217;s <code>init</code>\nfunction. The <code>init</code> function is <em>pure</em> and returns the initial state as its\nreturn value. At contract creation time, the <code>init</code> function is executed and\nits result is stored as the contract state.</li><li>The value of the state is accessible from inside the contract\nthrough an implicitly bound variable <code>state</code>.</li><li>State updates are performed by calling a function <code>put : state =&gt; ()</code>.</li><li>Aside from the <code>put</code> function (and similar functions for transactions\nand events), the language is purely functional.</li><li>Functions modifying the state need to be annotated with the <code>stateful</code> keyword.</li></ul>\n\n\n\n<blockquote class=\"wp-block-quote has-text-align-left\"><p>A contract may define a type state encapsulating its local state. The state must be initialised when instantiating a contract. This is done by the init function which can take arbitrary arguments and is called on contract instance creation.<br></p><cite>sophia documentation</cite></blockquote>\n\n\n\n<p class=\"has-text-align-left\">We now have to create setter function for saving person&#8217;s details, and getter functions for getting them.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>   stateful entrypoint add_person(person_address: address, first_name': string, last_name': string, age: int) =\n      let new_person : person =\n         { first_name = first_name',\n           last_name = last_name',\n           age = age }\n      put(state{ people[person_address] = new_person })</code></pre>\n\n\n\n<p class=\"has-text-align-left\"><s>For</s> our <s>getter </s><g class=\"gr_ gr_31 gr-alert gr_gramm gr_inline_cards gr_run_anim Punctuation only-ins replaceWithoutSep\" id=\"31\" data-gr-id=\"31\"><s>functions</s></g><s> we will need a helper function which will allow us to easily search in </s><g class=\"gr_ gr_149 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-del replaceWithoutSep\" id=\"149\" data-gr-id=\"149\"><s>the </s></g><code>map</code><g class=\"gr_ gr_149 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-del replaceWithoutSep\" id=\"149\" data-gr-id=\"149\"> <s>we</s></g><s>&#8216;ve created</s>.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code><strike>function lookupByAddress(k : address, m, v) =\n      switch(Map.lookup(k, m))\n         None    =&gt; v\n         Some(x) =&gt; x</strike></code></pre>\n\n\n\n<p class=\"has-text-align-left\">and our getters:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>   entrypoint get_person(person_address : <em>address</em>) : person = \n      switch(Map.lookup(person_address, <em>state</em>.people))\n         <em>None</em> =&gt; abort(\"No data for that person\")\n         <em>Some</em>(person_found) =&gt; person_found</code></pre>\n\n\n\n<p class=\"has-text-align-left\">Now we are done with the smart contract. It should look like this:</p>\n\n\n\n<figure><script src=\"https://gist.github.com/mradkov/87bd736e39440155873a973426a548a8.js\"></script><figcaption>AddressBook.aes &#8211; aeternity smart contract</figcaption></figure>\n\n\n\n<h2>Compile Sophia ML contracts</h2>\n\n\n\n<p class=\"has-text-align-left\">Compiling sophia smart contracts is done via:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>aeproject compile</code></pre>\n\n\n\n<p class=\"has-text-align-left\">And if everything went well we should see a similar output</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"793\" height=\"543\" src=\"https://hack.bg/wp-content/uploads/2019/01/forgae-compile-output.png\" alt=\"Compiling sophia smart contract\" class=\"wp-image-486\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/forgae-compile-output.png 793w, https://hack.bg/wp-content/uploads/2019/01/forgae-compile-output-300x205.png 300w, https://hack.bg/wp-content/uploads/2019/01/forgae-compile-output-768x526.png 768w\" sizes=\"(max-width: 793px) 100vw, 793px\" /><figcaption>Compiling sophia smart contract</figcaption></figure></div>\n\n\n\n<blockquote class=\"wp-block-quote has-text-align-left\"><p><g class=\"gr_ gr_14 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"14\" data-gr-id=\"14\">The </g><strong><code>compile</code></strong><g class=\"gr_ gr_14 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"14\" data-gr-id=\"14\"> command</g> compiles Sophia contract. It&#8217;s recommended to <g class=\"gr_ gr_31 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"31\" data-gr-id=\"31\">use </g><strong><code>.aes</code></strong><g class=\"gr_ gr_31 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"31\" data-gr-id=\"31\"> <g class=\"gr_ gr_30 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-ins replaceWithoutSep\" id=\"30\" data-gr-id=\"30\">file</g></g> extension. <g class=\"gr_ gr_52 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-ins replaceWithoutSep\" id=\"52\" data-gr-id=\"52\">Default</g> directory <g class=\"gr_ gr_60 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"60\" data-gr-id=\"60\">is </g><code>$projectDir/contracts</code><g class=\"gr_ gr_60 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"60\" data-gr-id=\"60\">.</g> The result of the compilation is the contract bytecode printed in the console. <g class=\"gr_ gr_44 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-ins doubleReplace replaceWithoutSep\" id=\"44\" data-gr-id=\"44\">Additional</g> <strong><code>--path</code></strong> parameter is available, which can specify the path to the contract to be compiled.</p></blockquote>\n\n\n\n<h2>Writing Unit Tests<br></h2>\n\n\n\n<p class=\"has-text-align-left\">First, we need to edit our deployment script, so it knows which contracts should be using. We only replace <g class=\"gr_ gr_170 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"170\" data-gr-id=\"170\"><g class=\"gr_ gr_104 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del\" id=\"104\" data-gr-id=\"104\">the</g> </g><code>ExampleContract</code><g class=\"gr_ gr_170 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"170\" data-gr-id=\"170\"> with</g> our <g class=\"gr_ gr_171 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"171\" data-gr-id=\"171\">own </g><code>AddressBook</code><g class=\"gr_ gr_171 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"171\" data-gr-id=\"171\"> </g><g class=\"gr_ gr_172 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"172\" data-gr-id=\"172\"><g class=\"gr_ gr_171 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"171\" data-gr-id=\"171\">in</g> </g><code>./deployments/deploy.js</code><g class=\"gr_ gr_172 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"172\" data-gr-id=\"172\">.</g> It should now look like this:</p>\n\n\n\n<figure><script src=\"https://gist.github.com/mradkov/6040c299a84fea0c81217e8721d11fd8.js\"></script><figcaption>AddressBook.aes deployment script</figcaption></figure>\n\n\n\n<p style=\"text-align:left\"><strike>You probably have noticed that we pass the <code>address</code> as <code>0xe9bbf604e611b5460a3b3999e9771b6f60417d73ce7c5519e12f7e127a1225ca</code> instead of aeternity&#8217;s <code>ak_2mwRmUeYmfuW93ti9HMSUJzCk1EYcQEfikVSzgo6k2VghsWhgU</code>. That is because sophia is using the bytes hex representation of our base58 encoded address. We can use <code>aecli</code> to decode our address and prepend <code>0x</code> afterwards :</strike></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><strike><code>aecli crypto decode ak_2mwRmUeYmfuW93ti9HMSUJzCk1EYcQEfikVSzgo6k2VghsWhgU</code></strike></pre>\n\n\n\n<p class=\"has-text-align-left\"><s>We should receive this output:</s></p>\n\n\n\n<blockquote class=\"wp-block-quote has-text-align-left\"><p><strike>Decoded address (hex): e9bbf604e611b5460a3b3999e9771b6f60417d73ce7c5519e12f7e127a1225ca</strike></p></blockquote>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"809\" height=\"349\" src=\"https://hack.bg/wp-content/uploads/2019/01/aecli-crypto-decode.png\" alt=\"aecli crypto decode aeternity address\" class=\"wp-image-493\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/aecli-crypto-decode.png 809w, https://hack.bg/wp-content/uploads/2019/01/aecli-crypto-decode-300x129.png 300w, https://hack.bg/wp-content/uploads/2019/01/aecli-crypto-decode-768x331.png 768w\" sizes=\"(max-width: 809px) 100vw, 809px\" /><figcaption>aecli crypto decode aeternity address</figcaption></figure></div>\n\n\n\n<p class=\"has-text-align-left\">Writing unit test for aeternity sophia smart contract is similar to writing unit tests for Ethereum solidity smart contract.</p>\n\n\n\n<p class=\"has-text-align-left\"><strike>The interesting and thing is passing arguments to functions. As you can see, we are now passing <g class=\"gr_ gr_12 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Grammar only-del replaceWithoutSep\" id=\"12\" data-gr-id=\"12\">the our</g> args<code>address</code><g class=\"gr_ gr_17 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Punctuation only-del replaceWithoutSep\" id=\"17\" data-gr-id=\"17\">,</g><code>first_name</code><g class=\"gr_ gr_17 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Punctuation only-del replaceWithoutSep\" id=\"17\" data-gr-id=\"17\">,</g><code>last_name</code><g class=\"gr_ gr_17 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Punctuation only-del replaceWithoutSep\" id=\"17\" data-gr-id=\"17\">,</g> <g class=\"gr_ gr_25 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"25\" data-gr-id=\"25\">and </g><code>age</code><g class=\"gr_ gr_25 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"25\" data-gr-id=\"25\"> as</g> tuple string.</strike></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><strike>      args: `(${address}, \"${first_name}\", \"${last_name}\", ${age})`,</strike></pre>\n\n\n\n<p class=\"note\"><em>Note</em>: If you are passing <g class=\"gr_ gr_13 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins doubleReplace replaceWithoutSep\" id=\"13\" data-gr-id=\"13\">string</g>, do not forget to add quotes (<code>\"</code>) around the string too (<code>(\"Some string\")</code>). More than one parameter can be passed separated by coma (<code>(\"Some string\", 123, 45, \"Other string\")</code>))deploy</p>\n\n\n\n<p class=\"has-text-align-left\"><strike>Another quite handy thing is that the function call result comes with <g class=\"gr_ gr_5 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"5\" data-gr-id=\"5\">built </g><g class=\"gr_ gr_91 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"91\" data-gr-id=\"91\"><g class=\"gr_ gr_5 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"5\" data-gr-id=\"5\">in</g> </g><code>decode()</code><g class=\"gr_ gr_91 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"91\" data-gr-id=\"91\"> function</g>, which you can use for decoding the function output by passing the type you want to decode it to e.g. primitives like <code>int</code> , <code>string</code> <g class=\"gr_ gr_93 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"93\" data-gr-id=\"93\">or </g><code>bool</code><g class=\"gr_ gr_93 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"93\" data-gr-id=\"93\">.</g> This is quite important for our unit tests so we know how we are going to <code>assert</code> the results.</strike></p>\n\n\n\n<pre class=\"wp-block-preformatted\"><s>    const addPersonResult = await addPerson.decode('bool');</s></pre>\n\n\n\n<figure><script src=\"https://gist.github.com/mradkov/2d679aadd9cabc1ac296399354c87562.js\"></script><figcaption>AddressBook aepp unit tests</figcaption></figure>\n\n\n\n<p class=\"has-text-align-left\">Now if we run <code>aeproject test</code> we should see our unit tests output:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>aeproject test</code></pre>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"837\" height=\"587\" src=\"https://hack.bg/wp-content/uploads/2019/01/forgae-test-sophia-unit-tests.png\" alt=\"forgae test output - addressbook aepp\" class=\"wp-image-491\" srcset=\"https://hack.bg/wp-content/uploads/2019/01/forgae-test-sophia-unit-tests.png 837w, https://hack.bg/wp-content/uploads/2019/01/forgae-test-sophia-unit-tests-300x210.png 300w, https://hack.bg/wp-content/uploads/2019/01/forgae-test-sophia-unit-tests-768x539.png 768w, https://hack.bg/wp-content/uploads/2019/01/forgae-test-sophia-unit-tests-821x576.png 821w\" sizes=\"(max-width: 837px) 100vw, 837px\" /><figcaption>forgae test output &#8211; addressbook aepp</figcaption></figure></div>\n\n\n\n<h2>Conclusion</h2>\n\n\n\n<p class=\"has-text-align-left\">Writing smart contracts on Sophia is very intuitive if you have previous experience writing smart contracts or experience with programming languages like Python.<br></p>\n\n\n\n<p class=\"has-text-align-left\">We will continue this series with some more sophisticated examples which will include deployment on testnet and mainnet and more soon. If you don&#8217;t want to miss the new content &#8211; join our <a href=\"http://eepurl.com/gcxyRj\">newsletter</a> to receive all our new content.</p>\n\n\n\n<h3>Useful links</h3>\n\n\n\n<ul><li><a href=\"https://meetup.com/blockchain-developers-meetup-bulgaria\">Blockchain Developers Meetup</a></li><li><a href=\"https://facebook.com/BlockchainDevelopersMeetup\">FacebookGroup</a></li><li><a href=\"http://linkedin.com/company/hack-blockchain-development/\">LinkedIn</a></li><li><a href=\"https://twitter.com/hack_bg\">Twitter</a></li></ul>\n\n\n\n<h4>Resources</h4>\n\n\n\n<ul><li><a href=\"http://github.com/mradkov/addressbook-aepp-aeternity\">AddressBook <g class=\"gr_ gr_6 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"6\" data-gr-id=\"6\">aepp</g> &#8211; Github Repo of the project</a></li><li><a href=\"https://github.com/aeternity/protocol\">Aeternity protocol <g class=\"gr_ gr_7 gr-alert gr_spell gr_inline_cards gr_disable_anim_appear ContextualSpelling ins-del multiReplace\" id=\"7\" data-gr-id=\"7\">github</g></a></li><li><a href=\"http://forum.aeternity.com/\">Aeternity forum</a></li></ul>\n","excerpt":"<p>Æternity blockchain is live after long period of waiting, the community is big and the core developers are top skilled. The project offers smart contracts development platform for decentralized applications dapps or how they call them &#8211; æpps. In this tutorial we are going to create a simple smart contract in Sophia ML programming language [&hellip;]</p>\n","categories":[{"id":"4","title":"Tutorials","path":"/category/tutorials/"}],"author":{"name":"Milen Radkov","path":"/author/milen/"}}},{"node":{"date":"2018-12-29T09:30:09","id":"286","title":"[Part two &#8211; Unit Testing] Build a Decentralized Domain Name System (DDNS) on top of Ethereum","path":"/blog/part-two-unit-testing-build-a-decentralized-domain-name-system-ddns-on-top-of-ethereum/","content":"\n<p class=\"has-drop-cap\">Whether you develop software yourself or <a href=\"https://hack.bg/#contact\">hire developers</a> to build it for you, you expect them to do everything necessary, so you can get functional and bug-free software. Sometimes, however, doing the right thing takes additional time, which is often being skipped due to all the deadlines, budget or some other reason.</p>\n\n\n\n<p>In blockchain development as in the traditional software development, unit testing reduces the number of bugs, making it &#8220;a must&#8221; to effective software development. </p>\n\n\n\n<p>In this article, we are going to look at this type of testing &#8211; unit testing &#8211; and why you should not cut corners and skip this part of the software development cycle.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"1024\" height=\"683\" src=\"https://hack.bg/wp-content/uploads/2018/12/unit-testing-decentralized-domain-name-system-hack-1024x683.jpg\" alt=\"Unit Testing Decentralized Domain Name System\" class=\"wp-image-386\" srcset=\"https://hack.bg/wp-content/uploads/2018/12/unit-testing-decentralized-domain-name-system-hack-1024x683.jpg 1024w, https://hack.bg/wp-content/uploads/2018/12/unit-testing-decentralized-domain-name-system-hack-300x200.jpg 300w, https://hack.bg/wp-content/uploads/2018/12/unit-testing-decentralized-domain-name-system-hack-768x512.jpg 768w, https://hack.bg/wp-content/uploads/2018/12/unit-testing-decentralized-domain-name-system-hack-864x576.jpg 864w, https://hack.bg/wp-content/uploads/2018/12/unit-testing-decentralized-domain-name-system-hack.jpg 1200w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /><figcaption>Unit Testing Decentralized Domain Name System</figcaption></figure></div>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>This is part two of our series of building decentralized domain name system on top of <a href=\"https://ethereum.org/\">Ethereum</a>, where we&#8217;ll get familiar with good practices and techniques during <g class=\"gr_ gr_34 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins replaceWithoutSep\" id=\"34\" data-gr-id=\"34\">unit</g> testing process and deployment of a decentralized application (<g class=\"gr_ gr_14 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"14\" data-gr-id=\"14\">dApp</g>) development lifecycle.</p>\n\n\n\n<p>In the first part, we developed a decentralized application consisted of Ethereum smart contracts, that are acting as a decentralized domain name system. So, at this point, a user should be able to buy, renew, edit and transfer a domain name according to our <g class=\"gr_ gr_191 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del multiReplace\" id=\"191\" data-gr-id=\"191\">dApp&#8217;s</g> logic. If you haven&#8217;t checked out <a href=\"https://hack.bg/blog/tutorials/part-one-smart-contracts-build-a-decentralized-domain-name-system-ddns-on-top-of-ethereum/\">the first part of our tutorial</a> yet &#8211; this is probably the time to do so.</p>\n\n\n\n<p>To sum up:</p>\n\n\n\n<ul><li>Unit tests are code that tests your contract code</li><li>It executes your contract with predefined function calls (test cases)</li><li>It compares the result of the execution with the expected result for this case</li></ul>\n\n\n\n<h2>Tooling</h2>\n\n\n\n<p>The most popular and commonly used way of creating unit tests for Ethereum smart contracts written in Solidity is by using the following tool-set.</p>\n\n\n\n<ol><li><a href=\"https://truffleframework.com/truffle\">Truffle</a> &#8211; is the most popular development framework for Ethereum. <ul><li>Built-in smart contract compilation, linking, deployment and binary management.</li><li>Automated contract testing for rapid development.</li><li>Scriptable, extensible deployment &amp; migrations framework.</li><li>Network management for deploying to any number of public &amp; private networks.</li><li>Package management with EthPM &amp; NPM, using the <a href=\"https://github.com/ethereum/EIPs/issues/190\">ERC190</a> standard.</li><li>Interactive console for direct contract communication.</li><li>Configurable build pipeline with support for tight integration.</li><li>External script runner that executes scripts within a Truffle environment. </li></ul></li><li><a href=\"https://truffleframework.com/ganache\">Ganache</a> &#8211; lets you quickly fire up a personal Ethereum blockchain which you can use to run tests, execute commands, and inspect state while controlling how the chain operates.</li></ol>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>Without further due, let&#8217;s jump into setting up our project and environment for unit testing.<br></p>\n\n\n\n<p>First if we haven&#8217;t already, we need to install Truffle globally (-g)</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>npm install -g truffle</code></pre>\n\n\n\n<p>and Ganache &#8211; It is available as both a desktop application as well as a command-line tool (formerly known as the TestRPC). For the purpose of our tutorial we are going to use the command-line tool.</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>npm install -g ganache-cli</code></pre>\n\n\n\n<p><g class=\"gr_ gr_5 gr-alert gr_spell gr_inline_cards gr_run_anim ContextualSpelling ins-del\" id=\"5\" data-gr-id=\"5\">Okey</g>, now we are good to go. There is a tutorial for using truffle for <g class=\"gr_ gr_37 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins doubleReplace replaceWithoutSep\" id=\"37\" data-gr-id=\"37\">unit</g> testing in their website <a href=\"https://truffleframework.com/tutorials/testing-for-throws-in-solidity-tests\">here</a>, but <g class=\"gr_ gr_18 gr-alert gr_gramm gr_inline_cards gr_run_anim Grammar only-ins replaceWithoutSep\" id=\"18\" data-gr-id=\"18\"><code>throw</code></g> function used there is now deprecated and replaced by <code>revert()</code>, <code>require()</code> and <code>assert()</code>. So it will be somewhat helpful if you know how the last work.</p>\n\n\n\n<p>Nevertheless, let us verify our knowledge by a quick lookup at the <a href=\"https://solidity.readthedocs.io/en/develop/control-structures.html#error-handling-assert-require-revert-and-exceptions\">Solidity documentation</a>:</p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>Error handling: Assert, Require, Revert and Exceptions<br> Solidity uses state-reverting exceptions to handle errors. Such an exception will undo all changes made to the state in the current call (and all its sub-calls) and also flag an error to the caller. The convenience functions <code>assert</code> and <code>require</code> can be used to check for conditions and throw an exception if the condition is not met. The <code>assert</code> function should only be used to test for internal errors, and to check invariants. The <code>require</code>  function should be used to ensure valid conditions, such as inputs, or  contract state variables are met, or to validate return values from  calls to external contracts. If used properly, analysis tools can evaluate your contract to identify  the conditions and function calls which will reach a failing <code>assert</code>.  Properly functioning code should never reach a failing assert  statement; if this happens there is a bug in your contract which you  should fix.<br> There are two other ways to trigger exceptions: The <code>revert</code> function can be used to flag an error and revert the current call. It is possible to provide a string message containing details about the error that will be passed back to the caller.</p><cite>Solidity documentation</cite></blockquote>\n\n\n\n<h2>Project initialization</h2>\n\n\n\n<p class=\"note\"><strong>Note:</strong> If you have initialized your project with <code>truffle init</code> you can skip this part.</p>\n\n\n\n<p>In the first part we covered mainly the code, but not the environment, IDE and project setup, but for our tests to run properly we will need that set.</p>\n\n\n\n<p>Setting up a new truffle project:</p>\n\n\n\n<pre class=\"wp-block-preformatted\"><code>truffle init</code></pre>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"682\" height=\"564\" src=\"https://hack.bg/wp-content/uploads/2018/12/decentralized-dns-truffle-init.png\" alt=\"Decentralized Domain Name System - project initialization\" class=\"wp-image-345\" srcset=\"https://hack.bg/wp-content/uploads/2018/12/decentralized-dns-truffle-init.png 682w, https://hack.bg/wp-content/uploads/2018/12/decentralized-dns-truffle-init-300x248.png 300w\" sizes=\"(max-width: 682px) 100vw, 682px\" /><figcaption>Decentralized Domain Name System &#8211; project initialization</figcaption></figure></div>\n\n\n\n<p>As you notice after project initialization Truffe adds some files into our project directory: </p>\n\n\n\n<ul><li><code>./contracts</code> &#8211; directory where our smart contracts should be stored.</li><li><code>./migrations</code> &#8211; directory for placing our migrations scripts.</li><li><code>./test</code> &#8211; directory for test files for testing our decentralized application.</li><li><code>./truffle-config.js</code> &#8211; this is our project&#8217;s truffle configuration file.</li></ul>\n\n\n\n<h2>Writing Unit Tests</h2>\n\n\n\n<p>Writing unit tests is a must for decentralized applications development life-cycle, so we can be sure the application works <strong>the way it is designed to</strong>.</p>\n\n\n\n<p>So Truffle gives us couple of possible options to write tests &#8211; in JavaScript, TypeScript (testing your contract via web3) or Solidity (testing your contract from another contract). In our tutorial we will cover unit testing with JavaScript which its the most adopted way of doing so in my opinion.</p>\n\n\n\n<p>All contracts in truffle&#8217;s contracts folder are accessible and are published automatically for our tests. Our unit tests should be placed in the <code>./test</code> folder and must end with <code>.js</code> extension so it can be recognized as an automated test by <a href=\"https://mochajs.org/\">Mocha</a> framework which Truffle uses for testing. For the assertions Truffle uses <a href=\"https://www.chaijs.com/\">Chai</a>, which you may or may not be familiar with.</p>\n\n\n\n<blockquote class=\"wp-block-quote is-style-default\"><p>Chai is a BDD / TDD assertion library for <a href=\"http://nodejs.org\">node</a> and can be paired with any javascript testing framework.</p><cite>Chaijs</cite></blockquote>\n\n\n\n<p>Truffle&#8217;s got well structured, extensive <a href=\"https://truffleframework.com/docs/truffle/overview\">documentation</a> which you can read upon and get familiar with, if you want to.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<figure class=\"wp-block-pullquote is-style-default\"><blockquote><p>So starting with the structure of a unit test case.</p></blockquote></figure>\n\n\n\n<p>A test is a call of a contract function with predefined (hard-coded) arguments and a predefined expected output. And the expected output should be the correct way the contract functions.</p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>What makes Truffle tests different from that of Mocha is the <code>contract()</code> function: This function works exactly like <code>describe()</code> except it enables Truffle&#8217;s <a href=\"https://truffleframework.com/docs/truffle/testing/testing-your-contracts#clean-room-environment\">clean-room features</a>.</p><cite>Truffle documentation</cite></blockquote>\n\n\n\n<p>Each group of tests is ran with clean contract state, meaning that for every test new contract is being published.</p>\n\n\n\n<p>Here is how our DDNSService.test.js should look like:</p>\n\n\n\n<pre><code>\n\nconst DDNSService = artifacts.require('../contracts/DDNSService.sol')\n\n// place helpers here\n\ncontract('DDNSService', ([owner, wallet, anotherAccount]) =&gt; {\n\tlet contractInstance;\n\tlet events = [];\n\n\tbefore(() =&gt; {\n\t\tweb3.eth.defaultAccount = owner;\n\t});\n\n\tbeforeEach(async () =&gt; {\n\t\tcontractInstance = await DDNSService.new();\n\t});\n\n\tafterEach(() =&gt; {\n\t\tif (events.length) {\n\t\t\tevents.forEach((ev) =&gt; {\n\t\t\t\tev.stopWatching();\n\t\t\t});\n\n\t\t\tevents = [];\n\t\t}\n    });\n  \n    it(\"BYTES_DEFAULT_VALUE constant Should have exact value\", async () =&gt; {\n\t\t// Arrange\n\n\t\t// Act\n\t\tconst result = await contractInstance.BYTES_DEFAULT_VALUE();\n\n\t\t// Assert\n\t\tassert.equal(result, '0x00');\n   });\n\n... more tests \n\n});</code></pre>\n\n\n\n<p><br></p>\n\n\n\n<p>In the code above, we&#8217;ve set our contract instance and written the first test, which tests whether the <code>BYTES_DEFAULT_VALUE</code> constant in our smart contract is set to <code>0x00</code>.</p>\n\n\n\n<p>Here is a more sophisticated example &#8211; <i>register Should throw when the sent funds are insufficient</i> &#8211; we are getting the price for the passed domain name, IP, TLD, substract 1 via <code>.minus(1)</code> so we can have a smaller than the actual domain price saved in our <code>currentPrice</code> constant, which we pass as value argument for the domain register via the <code>register()</code> function afterwards. Then we assert whether the call failed with <code>assertRevert</code>.</p>\n\n\n\n<pre><code>it(\"register Should throw when the sent funds are insufficient\", async () =&gt; {\n\t\t// Arrange\n\t\tconst domainName = \"milenradkov\";\n\t\tconst ip = \"127.0.0.1\";\n\t\tconst topLevelDomain = \"com\";\n\t\tconst currentPrice = (await contractInstance.getPrice(domainName)).minus(1);\n\t\t// Act\n\t\tconst result = contractInstance.register(domainName, topLevelDomain, ip, { from: anotherAccount, value: currentPrice });\n\t\t// Assert\n\t\tawait assertRevert(result);\n});</code></pre>\n\n\n\n<p>Unit tests in truffle can be written <g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"4\" data-gr-id=\"4\">using </g><code>.then</code><g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"4\" data-gr-id=\"4\"> </g><g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_run_anim Style multiReplace\" id=\"5\" data-gr-id=\"5\"><g class=\"gr_ gr_4 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"4\" data-gr-id=\"4\">or</g> </g><code>await/async</code><g class=\"gr_ gr_5 gr-alert gr_gramm gr_inline_cards gr_disable_anim_appear Style multiReplace\" id=\"5\" data-gr-id=\"5\"> style</g>, so it&#8217;s up to the developer&#8217;s preference how to write them.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>Testing the contract against the cases we&#8217;ve coded is really simple:</p>\n\n\n\n<p>1. Start <code>ganache-cli</code> in separate terminal/cmd &#8211; this will instantiate our private blockchain which we are going to use for tests.</p>\n\n\n\n<pre><code>ganache-cli</code></pre>\n\n\n\n<p>2. Run <code>truffle test</code> command from the project directory.</p>\n\n\n\n<pre><code>truffle test</code></pre>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>As you&#8217;ve probably noticed already, we are using the so known AAA (<a href=\"http://wiki.c2.com/?ArrangeActAssert\">Arrange Act Assert</a>) pattern for our unit tests &#8211; it&#8217;s always good to stick to well-formatted code and best practices when you are coding for lots of well-known reasons.</p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>&#8220;Arrange-Act-Assert&#8221;a pattern for arranging and formatting code in <a href=\"http://wiki.c2.com/?UnitTest\">UnitTest</a> methods: </p><p>Each method should group these functional sections, separated by blank lines: </p><ol><li> <strong>Arrange</strong> all necessary preconditions and inputs.\n</li><li> <strong>Act</strong> on the object or method under test.\n</li><li> <strong>Assert</strong> that the expected results have occurred.\n</li></ol><cite>Arrange-Act-Assert pattern unit test</cite></blockquote>\n\n\n\n<h3>Helpers</h3>\n\n\n\n<p>We are going to need some predefined helpers for some of our next test cases, which names are speaking for what they actually do respectively.</p>\n\n\n\n<pre><code>\n//helpers\nconst assertRevert = require('./utils/assertRevert');\nconst watchEvent = require('./utils/watchEvent');\nconst constants = require('./utils/constants');\nconst increaseTime = require('./utils/increaseTime');</code></pre>\n\n\n\n<h3>Coverage</h3>\n\n\n\n<p>Following this logic here are all the test cases covering most of the edge cases of our decentralized domain name service smart contract functions.</p>\n\n\n\n<figure><script src=\"https://gist.github.com/mradkov/2470c611a7a3d0be1508ead681929a90.js\"></script><figcaption></figcaption></figure>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<h2>Running tests</h2>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"799\" height=\"537\" src=\"https://hack.bg/wp-content/uploads/2018/12/ganache_cli.png\" alt=\"instantiate ganache-cli\" class=\"wp-image-376\" srcset=\"https://hack.bg/wp-content/uploads/2018/12/ganache_cli.png 799w, https://hack.bg/wp-content/uploads/2018/12/ganache_cli-300x202.png 300w, https://hack.bg/wp-content/uploads/2018/12/ganache_cli-768x516.png 768w\" sizes=\"(max-width: 799px) 100vw, 799px\" /><figcaption>instantiate ganache-cli</figcaption></figure></div>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"799\" height=\"537\" src=\"https://hack.bg/wp-content/uploads/2018/12/ganache_cli_running.png\" alt=\"ganache-cli running\" class=\"wp-image-377\" srcset=\"https://hack.bg/wp-content/uploads/2018/12/ganache_cli_running.png 799w, https://hack.bg/wp-content/uploads/2018/12/ganache_cli_running-300x202.png 300w, https://hack.bg/wp-content/uploads/2018/12/ganache_cli_running-768x516.png 768w\" sizes=\"(max-width: 799px) 100vw, 799px\" /><figcaption>ganache-cli running</figcaption></figure></div>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"843\" height=\"604\" src=\"https://hack.bg/wp-content/uploads/2018/12/truffle_test.png\" alt=\"truffle test - Decentralized Domain Name System using Solidity Smart Contracts on top of Ethereum\" class=\"wp-image-378\" srcset=\"https://hack.bg/wp-content/uploads/2018/12/truffle_test.png 843w, https://hack.bg/wp-content/uploads/2018/12/truffle_test-300x215.png 300w, https://hack.bg/wp-content/uploads/2018/12/truffle_test-768x550.png 768w, https://hack.bg/wp-content/uploads/2018/12/truffle_test-804x576.png 804w\" sizes=\"(max-width: 843px) 100vw, 843px\" /><figcaption>truffle test &#8211; Decentralized Domain Name System using Solidity Smart Contracts on top of Ethereum</figcaption></figure></div>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img loading=\"lazy\" width=\"843\" height=\"604\" src=\"https://hack.bg/wp-content/uploads/2018/12/truffle_test_passing.png\" alt=\"Truffle Test passing - Decentralized Domain Name System using Solidity Smart Contracts on top of Ethereum\" class=\"wp-image-379\" srcset=\"https://hack.bg/wp-content/uploads/2018/12/truffle_test_passing.png 843w, https://hack.bg/wp-content/uploads/2018/12/truffle_test_passing-300x215.png 300w, https://hack.bg/wp-content/uploads/2018/12/truffle_test_passing-768x550.png 768w, https://hack.bg/wp-content/uploads/2018/12/truffle_test_passing-804x576.png 804w\" sizes=\"(max-width: 843px) 100vw, 843px\" /><figcaption>Truffle Test passing &#8211; Decentralized Domain Name System using Solidity Smart Contracts on top of Ethereum</figcaption></figure></div>\n\n\n\n<h2>Conclusion</h2>\n\n\n\n<p>Unit testing are important when developing smart contracts on Ethereum, as there are lots of vulnerabilities or edge cases that can lead to security flaws or value (ETH) theft.</p>\n\n\n\n<p>In the next few parts we will set up code coverage and continuous integration with Travis CI. </p>\n\n\n\n<p>Also we will look deeper in to the security part of development and testing, tips and tricks and more, so <a href=\"http://eepurl.com/gcxyRj\">stay tuned.</a></p>\n\n\n\n<h3><strong>Useful links</strong></h3>\n\n\n\n<ul><li><a href=\"https://hack.bg/blog/tutorials/part-one-smart-contracts-build-a-decentralized-domain-name-system-ddns-on-top-of-ethereum/\">Part one &#8211; Smart Contracts &#8211; Build Decentralized Domain Name System on top of Ethereum</a></li><li>Part two &#8211; Unit Testing &#8211; [you are here] 🙂</li><li>Part three &#8211; Coming soon &#8230;</li></ul>\n\n\n\n<p><strong> Website</strong>: <a rel=\"noreferrer noopener\" href=\"https://hack.bg\" target=\"_blank\">https://hack.bg</a></p>\n\n\n\n<p><strong>Follow us on social media:</strong></p>\n\n\n\n<ul><li><a rel=\"noreferrer noopener\" href=\"https://twitter.com/hack_bg\" target=\"_blank\">Twitter</a></li><li><a rel=\"noreferrer noopener\" href=\"https://facebook.com/hackbg\" target=\"_blank\">Facebook</a></li><li><a rel=\"noreferrer noopener\" href=\"https://www.linkedin.com/company/hackbg-blockchain-web-software-solutions/\" target=\"_blank\">LinkedIn</a></li><li><a href=\"https://meetup.com/blockchain-developers-meetup-bulgaria\">Blockchain Developers Meetup</a></li></ul>\n","excerpt":"<p>Whether you develop software yourself or hire developers to build it for you, you expect them to do everything necessary, so you can get functional and bug-free software. Sometimes, however, doing the right thing takes additional time, which is often being skipped due to all the deadlines, budget or some other reason. In blockchain development [&hellip;]</p>\n","categories":[{"id":"4","title":"Tutorials","path":"/category/tutorials/"}],"author":{"name":"Milen Radkov","path":"/author/milen/"}}},{"node":{"date":"2018-12-29T08:24:06","id":"315","title":"How to boost your business with blockchain?","path":"/blog/how-to-boost-your-business-with-blockchain/","content":"\n<h3>Part 1</h3>\n\n\n\n<p>Many business owners are asking me, what can we do with blockchain?&nbsp;</p>\n\n\n\n<p>It is so because blockchain has become a buzzword that we hear from everywhere. Alas, few understand what really blockchain is and how they can integrate this new and fancy technology into their business.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*sEdqOxhS3decUKDs\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>The aim of this post is to answer some of the most important questions that you, as a business owner or an executive, might have. Questions regarding blockchain technology and how your business can benefit from it.&nbsp;</p>\n\n\n\n<p>At the end of this post, you should be able to decide whether to integrate blockchain to your business or not, regardless if you are a successful business or in the idea stage.</p>\n\n\n\n<ol><li><strong>What is blockchain?</strong></li></ol>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*5r4U6AAgFHb_rlYf\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@clintadair?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Clint Adair</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>Essentially blockchain is a distributed ledger, a peer to peer network, where every peer has all the information about the network and nobody can lie about the state of the network.&nbsp;</p>\n\n\n\n<p>If somebody tries to cheat, the network is going to verify the information via its verification process ( consensus algorithm) and if the peers agree that the person is trying to cheat they will not include the information in the blockchain.&nbsp;</p>\n\n\n\n<p>It is important to notice that nobody can change the previous records, one can only add new records to the chain. This is why we say that the blockchain is immutable and we can <strong>trust </strong>its records.</p>\n\n\n\n<p>To put it in a simple way, since we know that no one can cheat the network by saying I&#8217;m having zillions of dollars, the peers can trust each other. So <strong>trust </strong>is the first essential part of the blockchain.&nbsp;</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*sDXH7_MALP5UNkgC\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>The second part is <strong>transparency. </strong>Yes, you got me right, the blockchain is transparent. At early years many told that they can pay with Bitcoin and nobody will be able to track them down the road but nowadays we know that it is not a fact but an uninformed assumption.&nbsp;</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*wUGptLcpvK72VqJ9\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@oliverschwendener?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Oliver Schwendener</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>The third essential part is of blockchain technology is&nbsp;<strong>traceability.</strong></p>\n\n\n\n<p>Since everything on the blockchain is linked, hence the block-chain, one can easily track things moving on the blockchain.</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*MeudmeZpOlYjTTtp\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@eberhardgross?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">eberhard grossgasteiger</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<p>Just to wrap up the first important part of this article. The blockchain is a new type of accounting ( known as triple accounting ) and its main advantage over the previous type of accounting is <strong>Trust, Transparency, and Traceability.</strong></p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>2.<strong> Ok, I got why blockchain is cool but is it a right fit for my company?</strong>&nbsp;</p>\n\n\n\n<p>If you answer with <em>yes</em> to the following question, then most likely your company can benefit from integrating blockchain technology into your business process.</p>\n\n\n\n<p><em>Is your company dealing with things that the customers/ partners need to </em><strong><em>trust </em></strong><em>you about?&nbsp;</em></p>\n\n\n\n<p>Should your customers or partners trust you with their funds, the origin of the products you supply them with or simply the fact that you have the number of stocks that you are promising to ship by the end of the day?</p>\n\n\n\n<p>If your customers/ partners can trust you without even knowing you then they might decide more easily to do business with you.&nbsp;</p>\n\n\n\n<div class=\"wp-block-image\"><figure class=\"aligncenter\"><img src=\"https://cdn-images-1.medium.com/max/800/0*OiIeloYdaRR-mMVI\" alt=\"\"/><figcaption>Photo by <a href=\"https://unsplash.com/@rawpixel?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">rawpixel</a> on&nbsp;<a href=\"https://unsplash.com?utm_source=medium&amp;utm_medium=referral\" rel=\"noreferrer noopener\" target=\"_blank\">Unsplash</a></figcaption></figure></div>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>3. How can I boost my business with blockchain?</p>\n\n\n\n<p>As you have seen trust is essential in business and trust is an essential element of the blockchain.</p>\n\n\n\n<p>Integrating blockchain to your business process is building trust, trust brings new customers and your business is growing.</p>\n\n\n\n<p>Beside integrating blockchain technology into your business, you can think of boosting your business with an ICO (initial coin offering) or an STO (security token offering).</p>\n\n\n\n<p><a href=\"https://hack.bg/dlt-blockchain-development-services/ico-initial-coin-offering/\">What is ICO</a> and what is STO you can learn in details in my next post.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>If you have a great idea — but you not sure if blockchain technology can be integrated into your business, Get in touch with us at <a href=\"mailto:hello@hack.bg\" target=\"_blank\" rel=\"noreferrer noopener\">hello@hack.bg</a>.</p>\n\n\n\n<p>The full list of our services could be found on our website at <a href=\"https://hack.bg/#services\" rel=\"noreferrer noopener\" target=\"_blank\">https://hack.bg/#services</a></p>\n\n\n\n<p><strong>We</strong><em><strong> </strong></em><strong><em>bring ideas to life.</em></strong></p>\n","excerpt":"<p>Part 1 Many business owners are asking me, what can we do with blockchain?&nbsp; It is so because blockchain has become a buzzword that we hear from everywhere. Alas, few understand what really blockchain is and how they can integrate this new and fancy technology into their business. The aim of this post is to [&hellip;]</p>\n","categories":[{"id":"18","title":"Blockchain and Business","path":"/category/blockchain-and-business/"}],"author":{"name":"Hristo Georgiev","path":"/author/hgeorgiev/"}}},{"node":{"date":"2018-09-04T14:04:55","id":"148","title":"Blockchain Developers Meetup — #0x02 — Building AI-run economy on top of Smart Contracts","path":"/blog/blockchain-developers-meetup-0x02-building-ai-run-economy-on-top-of-smart-contracts/","content":"\n<div class=\"wp-block-image wp-caption\"><figure class=\"aligncenter\"><img src=\"https://hack.bg/wp-content/uploads/2018/12/5d43d-14PQkxFK8QTfjQNq2-2gDsw.png\" alt=\"\"/><figcaption>Our second&nbsp;meetup</figcaption></figure></div>\n\n\n\n<p>Hey guys!</p>\n\n\n\n<p>Yesterday we had our second <a href=\"https://www.meetup.com/Blockchain-Developers-Meetup-Bulgaria/\" data-href=\"https://www.meetup.com/Blockchain-Developers-Meetup-Bulgaria/\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>Blockchain Developers Meetup</strong></a>.</p>\n\n\n\n<p>For those of you, who could not join us — our guest speaker was Alexander Tsankov — an young and enthusiastic blockchain engineer from New York, who was in Bulgaria in behalf of the <a href=\"https://p3c.io\" data-href=\"https://p3c.io\" target=\"_blank\" rel=\"noopener noreferrer\">P3C</a> project.</p>\n\n\n\n<p>He presented us their implementation of “<a href=\"https://www.meetup.com/Blockchain-Developers-Meetup-Bulgaria/events/253836046/\" data-href=\"https://www.meetup.com/Blockchain-Developers-Meetup-Bulgaria/events/253836046/\" target=\"_blank\" rel=\"noopener noreferrer\">AI-run economy on top of Smart Contracts</a>” developed on the Ethereum Classic blockchain network.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<div class=\"wp-block-image wp-caption\"><figure class=\"aligncenter\"><img src=\"https://hack.bg/wp-content/uploads/2018/12/298a6-1gfgSNF0mdIaUOthQ94oL1A.jpeg\" alt=\"\"/><figcaption>On the picture: Alex Tsankov (left) talking infront of our community. Milen Radkov (right) CEO at&nbsp;hack.</figcaption></figure></div>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>We were discussing about the theoretical framework of money creation, social and solidarity systems and insurance. And how it could be solved by using innovative technologies as blockchain and AI.</p>\n\n\n\n<p>We covered key points like:</p>\n\n\n\n<ul><li>Prosperity.</li><li>Evolution of money (what is considered hard and soft money).</li><li>Evolution of insurance.</li></ul>\n\n\n\n<p><a href=\"https://p3c.io\" data-href=\"https://p3c.io\" target=\"_blank\" rel=\"noopener noreferrer\">P3C</a> is an already working open source decentralized application, which is aiming to solve social security issues using blockchain in ~<a href=\"https://etherhub.io/addr/0xdf9aac76b722b08511a4c561607a9bf3afa62e49#tab_addr_3\" data-href=\"https://etherhub.io/addr/0xdf9aac76b722b08511a4c561607a9bf3afa62e49#tab_addr_3\" target=\"_blank\" rel=\"noopener noreferrer\">700 lines of solidity code</a>.</p>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<div class=\"wp-block-image wp-caption\"><figure class=\"aligncenter\"><img src=\"https://hack.bg/wp-content/uploads/2018/12/80b08-16iB84JNNFpVa0ztuqGRiRA.jpeg\" alt=\"\"/><figcaption>Part of the people atteding the&nbsp;meetup.</figcaption></figure></div>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>Watch the session here:</p>\n\n\n\n<figure class=\"wp-block-embed-youtube wp-block-embed\"><div class=\"wp-block-embed__wrapper\"><figure><iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/KmFovOLI1tE\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe><figcaption>Building AI-run economy on top of Smart Contracts &#8211; 0x02 [Blockchain Developers Meetup]</figcaption></figure>\n</div></figure>\n\n\n\n<hr class=\"wp-block-separator\"/>\n\n\n\n<p>If you are <strong>interested in talking</strong> on some cool topic, or you want to <strong>propose some topic</strong> to be discussed — just <strong>drop us a line at </strong><a href=\"mailto:events@hack.bg\" data-href=\"mailto:events@hack.bg\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>events@hack.bg</strong></a> or write down a comment / reply.</p>\n\n\n\n<p>If you want to be informed for our next events and meetups — join us:</p>\n\n\n\n<p><strong>Blockchain Developers Meetup Group</strong>: <a href=\"https://meetup.com/Blockchain-Developers-Meetup-Bulgaria\" data-href=\"https://meetup.com/Blockchain-Developers-Meetup-Bulgaria\" target=\"_blank\" rel=\"noopener noreferrer\">https://meetup.com/Blockchain-Developers-Meetup-Bulgaria</a><br>\n<strong>Blockchain Developers Facebook Group</strong>: <a href=\"https://www.facebook.com/groups/BlockchainDevelopersMeetup\" data-href=\"https://www.facebook.com/groups/BlockchainDevelopersMeetup\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.facebook.com/groups/BlockchainDevelopersMeetup</a><br>\n<strong>Website</strong>: <a href=\"https://hack.bg\" data-href=\"https://hack.bg\" target=\"_blank\" rel=\"noopener noreferrer\">https://hack.bg</a></p>\n","excerpt":"<p>Hey guys! Yesterday we had our second Blockchain Developers Meetup. For those of you, who could not join us — our guest speaker was Alexander Tsankov — an young and enthusiastic blockchain engineer from New York, who was in Bulgaria in behalf of the P3C project. He presented us their implementation of “AI-run economy on top of Smart Contracts” [&hellip;]</p>\n","categories":[{"id":"5","title":"Events","path":"/category/events/"},{"id":"71","title":"Meet-ups","path":"/category/meetups/"}],"author":{"name":"Milen Radkov","path":"/author/milen/"}}}]}}},"context":{}}